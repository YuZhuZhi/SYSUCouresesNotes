# 离散数学(五)——函数

在关系的基础上，定义一类特殊的关系，称为**函数**，也称为**映射**。

## 一、函数的定义

$f:A\rightarrow B$，表示一个**函数**$f$是集合$A$到集合$B$的**关系**，是笛卡尔积$A\times B$的子集。称$A$为函数的**定义域**、或简称**域**，称$B$为函数的**陪域**。对于函数而言，定义域中任一元素$a\in A$都必须有**唯一的**陪域中的元素$b\in B$与之对应，即$\langle a,b\rangle\in f$。

既然$b$存在且唯一，那么总能记$b=f(a)$，称$b$是$a$的**像**、或称**函数值**，而$a$是$b$的**原像**。

在离散数学中，函数运算记号$f(?)$的括号中不仅能填入定义域中的一个元素，也能填入定义域的一个**子集**。即若$S\subseteq A$，那么称$f(S)$为$S$在$f$下的**像集**，它运算得到一个集合，集合中的元素是$S$中的元素的**函数值**，因此这个集合也必是**陪域$B$的子集**：

$$f(S)=\{f(x)\in B|x\in S\}\subseteq B$$

当$S=A$时，称$f(A)$为函数的**值域**，记为$ran(f)$。

同样地，取函数的逆关系$f^{-1}$，若$T\subseteq B$，那么称$f^{-1}(T)$为$T$在$f$下的**逆像集**，它也必是**定义域$A$的子集**：

$$f^{-1}(T)=\{x\in A|f(x)\in T\}\subseteq A$$

既然函数是特殊的关系，那么一些特殊关系也能产生特殊函数。例如，以空集为定义域的函数称为**空函数**；由**恒等关系**$\Delta_A$产生的函数称为$A$的**恒等函数**，记为$id_A$。

---

## 二、函数的运算

基于关系的运算我们得到函数的运算。

### 1.子集与函数

**函数保持子集关系**。假如有函数$f:A\rightarrow B$，并且$S\subseteq T\subseteq A$，那么亦有$f(S)\subseteq f(T)$。

现在假设函数$f:A\rightarrow B$，并且$S, T\subseteq A$，还存在：

$$f(S\cap T)\subseteq f(S)\cap f(T)$$

### 2.函数的复合

假设两个函数$f:A\rightarrow B,\ \ g:B\rightarrow C$，那么两个函数的**复合**产生的新函数是$A\times C$上的关系，记为$g\circ f$。由于$f$的*陪域*就是$g$的*定义域*，因此：

$$\forall x\in A,\quad (g\circ f)(x)=g(f(x))$$

既然函数的复合就是关系的复合，那么关系复合的一些性质是可以完全挪用的。例如，函数复合有**结合律**：

$$h\circ(g\circ f)=(h\circ g)\circ f$$

函数与**恒等函数**的复合还是函数自身。假如$f:A\rightarrow B$，那么$id_B\circ f=f=f\circ id_A$。

### 3.函数的反函数

现在假设函数$f:A\rightarrow B$以及$g:B\rightarrow A$。假如$g\circ f=id_A$，那么称$g$是函数$f$的**左逆**；假如$f\circ g=id_B$，那么称$g$是函数$f$的**右逆**。

函数作为关系自然具有逆关系，由逆关系定义的函数称为**逆函数**、或称**反函数**，记为$f^{-1}$，定义为：

$$f^{-1}=\{\langle y,x\rangle\in B\times A|\langle x,y\rangle\in f\}=\{\langle y,x\rangle|f(x)=y\}$$

然而由于函数作为关系的特殊性，一个函数要具有反函数，就不能存在定义域上的元素对应多个陪域中的元素。也就是，函数必须是**双函数**。这就涉及到函数性质的讨论，也就是接下来的内容。

---

## 三、函数的性质

接下来假定函数$f:A\rightarrow B$。必要时引入函数$g:B\rightarrow C$。

### 1.单函数

对函数$f$，如果任意$x,y\in A$都有$f(x)=f(y)\rightarrow x=y$，也就是任意**定义域**上不同的元素必有不同的**函数值**，那么就称函数$f$为**单函数**。

**单函数的复合还是单函数**，也就是若$f,g$都是单函数，那么$g\circ f$还是单函数。

若函数$f$是单函数，那么$f$必存在**左逆**；若函数$f$存在**左逆**，那么$f$必是单函数。

若函数$f$是单函数，并且$S,T$是定义域的子集，那么$f(S\cap T)= f(S)\cap f(T)$。反之亦然。

### 2.满函数

如果对于任意陪域中的元素$y\in B$，都存在$x\in A$使$f(x)=y$成立，也就是**陪域就是值域**，$ran(f)=B$，那么就称函数$f$为**满函数**。

**满函数的复合还是满函数**，也就是若$f,g$都是满函数，那么$g\circ f$还是满函数。

若函数$f$是满函数，那么$f$必存在**右逆**；若函数$f$存在**右逆**，那么$f$必是满函数。

### 3.双函数

如果函数$f$**既是单函数、又是满函数**，那么就称$f$为**双函数**。也就是说，不仅如普通函数那样，有且仅有唯一一个陪域中的元素与定义域中的元素对应，双函数还有且仅有唯一一个定义域中的元素与陪域中的元素对应。

**双函数的复合还是双函数**，也就是若$f,g$都是双函数，那么$g\circ f$还是双函数。

一个函数只有是双函数的情况下才有**反函数**。并且，由于双函数既是单函数、又是满函数，它必**同时有左逆和右逆**，并且都等于**反函数**。

同时，因为双函数是单函数，它亦存在$f(S\cap T)= f(S)\cap f(T)$的性质。

---

## 四、函数的增长

我们使用大$O$记号来刻画函数的增长。对于两个数集上的函数$f,g$，如果存在常数$C>0$和$k$，使当$x>k$时总有$|f(x)|\leq C|g(x)|$，那么称$f$是$O(g)$，并称$C$和$k$是$f$是$O(g)$的见证。$O(g)$事实上是以函数$g$为代表的、以函数为元素的集合，因此我们时常将“$f$是$O(g)$”记为$f\in O(g)$。

例如对于多项式函数：

$$f(x)=a_{n}x^{n}+a_{n-1}x^{n-1}+...+a_{1}x^{1}+a_0$$

无论系数取值如何，都必是$O(x^n)$，甚至$O(x^{n+1}),O(x^{n+2})...$，但当$a_n\neq 0$时，必不是$O(x^{n-1})$。一些常见的函数增长如下：

$$log\ n\in O(n)\qquad n\in O(n\ log\ n)\qquad n\ log\ n\in O(n^2)\qquad n^2\in O(2^n) 2^n\in P(n!)$$

大$O$记号具有传递性。若$f\in O(g),g\in O(h)$，那么$f\in O(h)$。

当$f,g\in O(h)$，那么$max\{f,g\}\in O(h)$。

当$f_1\in O(g_1),f_1\in O(g_2)$，那么$f_1+f_2\in O(max\{g_1,g_2\})$，$f_1\cdot f_2\in O(g_1\cdot g_2)$
